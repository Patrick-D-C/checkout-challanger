import{d as _,u as f,h as v,o as h,i as k,c as t,g as m,w as b,e as d,R as g,t as c,a,j as y,f as s,_ as x}from"./index-Ca_W9Rs2.js";import{u as C}from"./products-CrPi31r7.js";const V={class:"product-page"},w={key:0,class:"feedback"},P={key:1,class:"feedback error"},B={key:2,class:"feedback"},N={key:3,class:"product-card"},R={class:"price"},S=_({__name:"ProductView",props:{id:{}},setup(u){const n=u,o=C(),l=f(),e=v(()=>o.byId(n.id)),i=()=>{if(!o.list.length&&!o.loading){o.fetch();return}!e.value&&!o.loading&&o.fetch(!0)};h(()=>{i()}),k(()=>n.id,()=>{i()});const p=()=>{e.value&&l.add(e.value)};return(A,r)=>(s(),t("section",V,[m(d(g),{class:"back-link",to:"/"},{default:b(()=>[...r[0]||(r[0]=[y("← Voltar aos produtos",-1)])]),_:1}),d(o).loading&&!e.value?(s(),t("div",w,"Carregando…")):d(o).error?(s(),t("div",P,c(d(o).error),1)):e.value?(s(),t("div",N,[a("header",null,[a("h1",null,c(e.value.name),1),a("p",R,"R$ "+c(e.value.price.toFixed(2)),1)]),r[1]||(r[1]=a("p",null,"Adicione este produto ao carrinho para finalizar sua compra.",-1)),a("button",{class:"add-button",type:"button",onClick:p}," Adicionar ao carrinho ")])):(s(),t("div",B,"Produto não encontrado."))]))}}),T=x(S,[["__scopeId","data-v-8ed78152"]]);export{T as default};
